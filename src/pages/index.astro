---
/**
 * Account Map App - MVP Home Page
 *
 * Modernized design with:
 * - Gradient text and backgrounds
 * - Glassmorphic effects
 * - Enhanced shadows and cards
 * - Scroll animations
 * - Micro-interactions
 */

import Layout from '~/layouts/PageLayout.astro';
import { Image } from 'astro:assets';
import { Icon } from 'astro-icon/components';

// Import animated map background
import AnimatedMapBackground from '~/components/backgrounds/AnimatedMapBackground.astro';

// Import product images
import imgCombinedTripView from '~/assets/images/product/combined-trip-view.png';
import imgMapView from '~/assets/images/product/map-view.png';
import imgPlanView from '~/assets/images/product/plan-view.png';
import imgTripDetails from '~/assets/images/product/trip-details.png';
import imgTripPlan from '~/assets/images/product/trip-plan.png';
import imgUploadLight from '~/assets/images/product/upload-light.png';

const metadata = {
  title: 'Account Map App - Visualize Your Key Accounts',
  ignoreTitleTemplate: true,
};

const features = [
  {
    title: 'Works With Your Tools',
    description: 'Upload CSVs, connect Google Sheets, integrate with HubSpot CRM, and export to Google/Apple Maps and Calendar.',
    icon: 'tabler:plug-connected',
  },
  {
    title: 'Interactive Maps & Address Enrichment',
    description: 'Get verified, geocoded coordinates for every address. Build interactive maps with clustering and filters, then save and share views across your team.',
    icon: 'tabler:map',
  },
  {
    title: 'Trip & Route Planning',
    description: 'Build multi-stop trips directly from your map. Automatic route optimization shows efficient travel order, drive times, and total distance.',
    icon: 'tabler:route',
  },
  {
    title: 'Connected Planning Docs',
    description: 'Build planning documents with embedded maps and linked trips. Share territory strategies, account plans, or quarterly reviews with full geographic context.',
    icon: 'tabler:file-text',
  },
  {
    title: 'Custom Object Support',
    description: 'Map any object with an address. Accounts, contacts, events, partners, locations, or custom objects you define. No limitations.',
    icon: 'tabler:database',
  },
  {
    title: 'Built for Teams',
    description: 'Built for team collaboration. Share saved views, coordinate on trip plans, collaborate on documents, and maintain visibility across territories.',
    icon: 'tabler:users-group',
  },
];

const useCases = [
  { title: 'Sales Reps', description: 'Visualize your book of business, plan multi-account trips, create territory strategies for QBRs, and see how prospects cluster near customers or upcoming events.', icon: 'tabler:briefcase' },
  { title: 'Sales Managers', description: 'See your entire team\'s territories on one map, identify coverage gaps, and plan coordinated plays in key markets.', icon: 'tabler:users' },
  { title: 'Customer Success', description: 'Visualize customer health by geography, plan proactive check-in trips, spot expansion opportunities in key markets, and align in-person visits with renewal timelines.', icon: 'tabler:heart-handshake' },
  { title: 'Marketing Teams', description: 'See target accounts on a map, plan regional campaigns where density is highest, coordinate event strategy with sales territories, and identify gaps in marketing coverage.', icon: 'tabler:speakerphone' },
  { title: 'Partner/Channel Teams', description: 'Map partner locations against prospect density, identify white space opportunities, plan joint territory strategies, and coordinate channel plays where partners have local presence.', icon: 'tabler:arrows-exchange' },
  { title: 'Coordinated GTM', description: 'Visualize accounts, prospects, partners, and activities together, plan coordinated regional strategies, align team efforts geographically, and eliminate conflicts or gaps in coverage.', icon: 'tabler:target' },
];

const steps = [
  { title: 'Upload Your Data', description: 'Bring in your target accounts, contacts, or any data with an address. It\'s fully customizable.', icon: 'tabler:upload' },
  { title: 'Map It Out', description: 'Automatically visualize all your data on maps. Save and share views, build lists, and organize however you need.', icon: 'tabler:map' },
  { title: 'Build Your Plans', description: 'Build trips & custom routes, create planning documents, and coordinate all your territory activities in one place.', icon: 'tabler:file-text' },
  { title: 'Execute', description: 'Share plans, sync trips to your calendar, and open routes directly in your favorite apps. Turn planning into action.', icon: 'tabler:rocket' },
];

const stats = [
  { label: 'Active Users', value: '200+' },
  { label: 'Accounts Mapped', value: '10K+' },
  { label: 'Trips Planned', value: '1000+' },
  { label: 'Sales Teams', value: '50+' },
];

const faqs = [
  {
    question: 'What is Account Map App?',
    answer: 'A visual account planning platform for sales, CS, marketing, and GTM teams. Upload your data, see it on maps, plan efficient trips, and build executable strategies, all with geographic context your spreadsheets and CRM can\'t provide.',
  },
  {
    question: 'What kind of data can I upload?',
    answer: 'Anything with an address! Upload standard CRM objects like accounts and contacts, or create custom objects for events, ABM targets, partner locations, campaign data, venues, whatever you need. CSV imports and Google Sheets integration make it easy.',
  },
  {
    question: 'How does geocoding work?',
    answer: 'Account Map App automatically geocodes addresses using verification services. Your addresses are enriched with verified coordinates, accuracy ratings, and standardized formatting for reliable mapping. If nothing matches or there is an issue, we\'ll let you know what to go look at!',
  },
  {
    question: 'Can I share maps with my team?',
    answer: 'Yes! Save custom map views and share them with your team. Everyone can access shared views, lists, and planning documents within your workspace for full visibility and collaboration.',
  },
  {
    question: 'Is there a free trial/free plan?',
    answer: 'Yes! We offer a free plan with limited records to get started. Upgrade anytime to unlock unlimited records, advanced features, and team collaboration. No credit card required to start.',
  },
  {
    question: 'How is this different from my CRM?',
    answer: 'Your CRM stores contact data in lists and tables. Account Map App adds the geographic layer, showing you WHERE your accounts are, not just WHO they are. We complement your CRM by adding visual territory planning, route optimization, and location-based strategy.',
  },
  {
    question: 'How is this different from Salesforce Maps / other tools?',
    answer: 'Price, for starters. Salesforce Maps runs $100+ per user per month. We\'re designed for individuals and teams who need visual account planning without enterprise budgets. Plus, we focus on practical workflows, connect to where you already work (Google Sheets, Calendar, Maps) and actually plan what to do with your data, not just visualize it.',
  },
];
---

<Layout metadata={metadata}>
  <!-- Animated Map Background -->
  <AnimatedMapBackground />

  <!-- ============================================================ -->
  <!-- 1. HERO                                                      -->
  <!-- ============================================================ -->
  <section class="relative md:-mt-[76px] overflow-hidden">
    <!-- Semi-transparent overlay to blend with site background -->
    <div class="absolute inset-0 bg-white/30 dark:bg-[#1C1917]/40 pointer-events-none"></div>
    <div class="pt-0 md:pt-[76px]"></div>
    <div class="py-12 md:py-20 lg:py-12 xl:py-20">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 relative">
        <div class="text-center max-w-5xl mx-auto pb-10 md:pb-16 lg:pb-10 xl:pb-16 animate-fade-in-up">
          <h1 class="text-5xl md:text-6xl lg:text-5xl xl:text-6xl font-bold leading-tight tracking-tighter mb-4 font-heading dark:text-stone-200">
            <span class="bg-gradient-to-r from-green-600 to-emerald-500 bg-clip-text text-transparent">Account Mapping</span>
            <span class="italic">(literally)</span> for Go-To-Market Teams
          </h1>

          <p class="text-xl text-muted dark:text-stone-300 mb-6 max-w-3xl mx-auto">
          Geographic context that turns your account data into territory strategy, not just another report.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a
            href="https://my.accountmap.app"
            target="_blank"
            data-track="get_started_button"
            class="glow-effect group relative inline-flex items-center justify-center gap-3 lg:gap-3.5 px-6 sm:px-7 lg:px-8 py-2.5 lg:py-3 text-sm sm:text-base lg:text-base font-semibold text-white bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg lg:rounded-xl hover:scale-105 transition-transform duration-300"
          >
            <Icon name="tabler:rocket" class="w-5 h-5 group-hover:animate-bounce" />
            Get Started Free
            <svg class="glow-container">
              <rect pathLength="100" stroke-linecap="round" class="glow-blur"></rect>
              <rect pathLength="100" stroke-linecap="round" class="glow-line"></rect>
            </svg>
          </a>

          <a
            href="#demo"
            data-track="demo_button"
            class="inline-flex items-center justify-center gap-3 px-6 sm:px-7 lg:px-8 py-2.5 lg:py-3 text-sm sm:text-base lg:text-base font-semibold text-gray-700 dark:text-stone-200 bg-white/80 dark:bg-stone-800/80 backdrop-blur-sm border border-gray-200 dark:border-stone-700 rounded-lg lg:rounded-xl hover:bg-white dark:hover:bg-stone-800 hover:shadow-xl hover:scale-105 transition-all duration-300"
          >
            <Icon name="tabler:player-play" class="w-5 h-5" />
            See Demo
          </a>
        </div>
      </div>

      <!-- Hero Image with Browser Mockup -->
      <div class="relative animate-fade-in-up delay-300">
        <div class="relative mx-auto max-w-6xl lg:max-w-4xl xl:max-w-6xl">
          <!-- Browser chrome -->
          <div class="bg-gray-100 dark:bg-stone-800 rounded-t-2xl px-4 py-3 flex items-center gap-2 border border-gray-200 dark:border-stone-700 border-b-0">
            <div class="flex gap-1.5">
              <div class="w-3 h-3 rounded-full bg-red-400"></div>
              <div class="w-3 h-3 rounded-full bg-yellow-400"></div>
              <div class="w-3 h-3 rounded-full bg-green-400"></div>
            </div>
            <div class="flex-1 mx-4">
              <div class="bg-white dark:bg-stone-700 rounded-lg px-4 py-1.5 text-sm text-gray-500 dark:text-stone-400 max-w-md mx-auto">
                my.accountmap.app
              </div>
            </div>
          </div>
          <!-- Screenshot -->
          <div class="relative rounded-b-2xl overflow-hidden shadow-2xl ring-1 ring-gray-200 dark:ring-stone-700">
            <Image
              src={imgCombinedTripView}
              alt="Account Map App - Trip Plan and Map View"
              class="w-full"
              widths={[400, 800, 1200, 1600]}
              sizes="(max-width: 768px) 100vw, (max-width: 1200px) 90vw, 1200px"
            />
            <!-- Gradient overlay at bottom -->
            <div class="absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-white dark:from-stone-900 to-transparent pointer-events-none"></div>
          </div>
        </div>

        <!-- Floating badges - Stats (original) -->
        <div class="hidden xl:block absolute -left-4 top-[45%] animate-float">
          <div class="bg-white dark:bg-stone-800 rounded-2xl shadow-xl p-4 ring-1 ring-gray-100 dark:ring-stone-700">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center">
                <Icon name="tabler:chart-arrows-vertical" class="w-5 h-5 text-green-600" />
              </div>
              <div>
                <p class="text-sm font-semibold text-gray-900 dark:text-white">Deal velocity</p>
                <p class="text-xs text-green-600">+40% faster</p>
              </div>
            </div>
          </div>
        </div>

        <div class="hidden xl:block absolute -right-4 top-[55%] animate-float delay-500">
          <div class="bg-white dark:bg-stone-800/90 rounded-2xl shadow-xl dark:shadow-[0_0_18px_rgba(255,255,255,0.08)] p-4 ring-1 ring-gray-100 dark:ring-white/10">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-xl flex items-center justify-center">
                <Icon name="tabler:users" class="w-5 h-5 text-purple-600" />
              </div>
              <div>
                <p class="text-sm font-semibold text-gray-900 dark:text-white">Stakeholders</p>
                <p class="text-xs text-purple-600">All mapped</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Floating badges - Feature callouts (new) -->
        <a href="#" class="hidden xl:block absolute -left-8 top-[70%] animate-float delay-700 group cursor-pointer">
          <div class="bg-white dark:bg-stone-800/90 rounded-2xl shadow-xl dark:shadow-[0_0_18px_rgba(255,255,255,0.08)] p-4 ring-1 ring-gray-100 dark:ring-white/10 hover:ring-green-300 dark:hover:ring-white/20 hover:shadow-2xl dark:hover:shadow-[0_0_22px_rgba(255,255,255,0.12)] transition-all duration-300">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                <Icon name="tabler:file-text" class="w-5 h-5 text-blue-600" />
              </div>
              <div>
                <p class="text-sm font-semibold text-gray-900 dark:text-white">Planning Docs</p>
                <p class="text-xs text-blue-600">Territory strategy</p>
              </div>
            </div>
          </div>
        </a>

        <a href="#" class="hidden xl:block absolute -right-8 top-[75%] animate-float delay-1000 group cursor-pointer">
          <div class="bg-white dark:bg-stone-800/90 rounded-2xl shadow-xl dark:shadow-[0_0_18px_rgba(255,255,255,0.08)] p-4 ring-1 ring-gray-100 dark:ring-white/10 hover:ring-orange-300 dark:hover:ring-white/20 hover:shadow-2xl dark:hover:shadow-[0_0_22px_rgba(255,255,255,0.12)] transition-all duration-300">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                <Icon name="tabler:map-pin" class="w-5 h-5 text-orange-600" />
              </div>
              <div>
                <p class="text-sm font-semibold text-gray-900 dark:text-white">Trip Locations</p>
                <p class="text-xs text-orange-600">Plan your visits</p>
              </div>
            </div>
          </div>
        </a>
      </div>
    </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- 2. BRANDS (Hidden for now - uncomment when ready)            -->
  <!-- ============================================================ -->
  <!--
  <section class="relative py-16 border-y border-gray-100 dark:border-stone-800 bg-gray-50/50 dark:bg-transparent">
    <div class="absolute inset-0 bg-transparent dark:bg-[#1C1917]/40 pointer-events-none"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6">
      <p class="text-center text-sm font-medium text-gray-500 dark:text-stone-300 mb-8 uppercase tracking-wider">
        Trusted by leading companies
      </p>
      <div class="flex flex-wrap justify-center items-center gap-8 md:gap-16 opacity-60 grayscale hover:grayscale-0 hover:opacity-100 dark:opacity-100 dark:brightness-200 dark:hover:grayscale dark:hover:opacity-100 transition-all duration-500">
        <img src="https://cdn.pixabay.com/photo/2015/05/26/09/37/paypal-784404_1280.png" alt="Paypal" class="h-8 md:h-10 object-contain" />
        <img src="https://cdn.pixabay.com/photo/2021/12/06/13/48/visa-6850402_1280.png" alt="Visa" class="h-8 md:h-10 object-contain" />
        <img src="https://cdn.pixabay.com/photo/2013/02/12/09/07/microsoft-80658_1280.png" alt="Microsoft" class="h-8 md:h-10 object-contain" />
        <img src="https://cdn.pixabay.com/photo/2015/10/31/12/54/google-1015751_1280.png" alt="Google" class="h-8 md:h-10 object-contain" />
        <img src="https://cdn.pixabay.com/photo/2021/12/06/13/45/meta-6850393_1280.png" alt="Meta" class="h-8 md:h-10 object-contain" />
      </div>
    </div>
  </section>
  -->

  <!-- ============================================================ -->
  <!-- 3. STEPS                                                     -->
  <!-- ============================================================ -->
  <section id="how-it-works" class="py-16 md:py-20 lg:py-12 xl:py-16 2xl:py-14 relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-b from-white via-gray-50/50 to-white dark:from-stone-900 dark:via-stone-800/50 dark:to-stone-900"></div>

    <div class="max-w-7xl lg:max-w-5xl xl:max-w-7xl 2xl:max-w-6xl mx-auto px-4 sm:px-6 relative">
      <div class="text-center mb-10 lg:mb-6 xl:mb-10 scroll-animate">
        <h2 class="text-3xl md:text-4xl lg:text-3xl xl:text-4xl 2xl:text-3xl font-bold tracking-tight mb-2">
          <span class="bg-gradient-to-r from-green-600 to-emerald-500 bg-clip-text text-transparent">How It Works</span>
        </h2>
      </div>

      <div class="grid lg:grid-cols-2 gap-8 lg:gap-6 xl:gap-8 items-center">
        <!-- Steps list -->
        <div class="space-y-4 lg:space-y-2 xl:space-y-4">
          {steps.map((step, index) => (
            <div class="scroll-animate group flex gap-4 lg:gap-3 xl:gap-4 p-4 lg:p-3 xl:p-4 bg-white dark:bg-stone-800 rounded-xl shadow-lg ring-1 ring-gray-100 dark:ring-stone-700 hover:shadow-xl hover:scale-[1.02] transition-all duration-300">
              <div class="flex-shrink-0">
                <div class="w-10 h-10 lg:w-9 lg:h-9 xl:w-10 xl:h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl lg:rounded-lg xl:rounded-xl flex items-center justify-center shadow-lg shadow-green-500/25 group-hover:scale-110 transition-transform duration-300">
                  <Icon name={step.icon} class="w-5 h-5 lg:w-4 lg:h-4 xl:w-5 xl:h-5 text-white" />
                </div>
              </div>
              <div>
                <h3 class="text-base lg:text-sm xl:text-base font-bold text-gray-900 dark:text-white mb-1">
                  Step {index + 1}: {step.title}
                </h3>
                <p class="text-gray-600 dark:text-stone-300 text-sm lg:text-xs xl:text-sm">{step.description}</p>
              </div>
            </div>
          ))}
        </div>

        <!-- Image - hidden on mobile to avoid confusion with workflow sections below -->
        <div class="scroll-animate relative hidden lg:block">
          <div class="absolute inset-0 bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded-3xl blur-3xl"></div>
          <div class="relative rounded-2xl overflow-hidden shadow-2xl ring-1 ring-gray-200 dark:ring-stone-700">
            <Image
              src={imgPlanView}
              alt="Account Map App - Plan View"
              class="w-full"
              widths={[400, 800]}
              sizes="(max-width: 768px) 100vw, 50vw"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- 4. PRODUCT WORKFLOW SHOWCASE                                 -->
  <!-- ============================================================ -->

  <!-- Content Block 1 -->
  <section class="py-12 md:py-16 2xl:py-12 relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-green-50/50 via-white to-emerald-50/50 dark:from-stone-900 dark:via-stone-900 dark:to-stone-800"></div>

    <div class="max-w-7xl 2xl:max-w-6xl mx-auto px-4 sm:px-6 relative">
      <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
        <div class="scroll-animate order-2 lg:order-1">
          <h2 class="text-3xl md:text-4xl lg:text-5xl 2xl:text-4xl font-bold tracking-tight mb-6">
            <span class="bg-gradient-to-r from-green-600 to-emerald-500 bg-clip-text text-transparent">From Data to Strategy</span> in Seconds
          </h2>
          <p class="text-lg text-gray-600 dark:text-stone-300 mb-8">
            Direct integrations with Google Sheets and CRMs mean your account data flows automatically to visual maps with verified Geocoding to enrich your addresses.
          </p>
        </div>

        <div class="scroll-animate order-1 lg:order-2 relative">
          <div class="absolute inset-0 bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded-3xl blur-3xl"></div>
          <div class="relative rounded-2xl overflow-hidden shadow-2xl ring-1 ring-gray-200 dark:ring-stone-700 hover:shadow-3xl transition-shadow duration-500">
            <Image
              src={imgUploadLight}
              alt="Account Map App - Upload Data View"
              class="w-full"
              widths={[400, 800]}
              sizes="(max-width: 768px) 100vw, 50vw"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Content Block 2 -->
  <section class="py-12 md:py-16 2xl:py-12 relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-bl from-purple-50/50 via-white to-pink-50/50 dark:from-stone-900 dark:via-stone-900 dark:to-stone-800"></div>

    <div class="max-w-7xl 2xl:max-w-6xl mx-auto px-4 sm:px-6 relative">
      <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
        <div class="scroll-animate relative">
          <div class="absolute inset-0 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-3xl blur-3xl"></div>
          <div class="relative rounded-2xl overflow-hidden shadow-2xl ring-1 ring-gray-200 dark:ring-stone-700">
            <Image
              src={imgTripDetails}
              alt="Account Map App - Trip Details"
              class="w-full"
              widths={[400, 800]}
              sizes="(max-width: 768px) 100vw, 50vw"
            />
          </div>
        </div>

        <div class="scroll-animate">
          <h2 class="text-3xl md:text-4xl lg:text-5xl 2xl:text-4xl font-bold tracking-tight mb-6">
            Turn Maps into <span class="bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent">Multi-Stop Routes</span>
          </h2>
          <p class="text-lg text-gray-600 dark:text-stone-300 mb-8">
            Turn clusters of accounts into efficient trip routes. Automatic optimization, calendar integration, and one-click navigation to get you there.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Content Block 3 -->
  <section class="py-12 md:py-16 2xl:py-12 relative overflow-visible">
    <div class="absolute inset-0 bg-gradient-to-br from-orange-50/50 via-white to-amber-50/50 dark:from-stone-900 dark:via-stone-900 dark:to-stone-900"></div>

    <div class="max-w-7xl 2xl:max-w-6xl mx-auto px-4 sm:px-6 relative">
      <div class="grid lg:grid-cols-2 gap-12 lg:gap-20 items-center">
        <div class="scroll-animate order-2 lg:order-1">
          <h2 class="text-3xl md:text-4xl lg:text-5xl 2xl:text-4xl font-bold tracking-tight mb-6">
            Plans That <span class="bg-gradient-to-r from-orange-500 to-amber-500 bg-clip-text text-transparent">Link to Everything</span>
          </h2>
          <p class="text-lg text-gray-600 dark:text-stone-300 mb-8">
            Build strategy docs with embedded maps, linked trip plans, and connected lists. Your entire territory plan in one living document.
          </p>
        </div>

        <div class="scroll-animate order-1 lg:order-2 relative">
          <div class="absolute inset-0 bg-gradient-to-r from-orange-500/20 to-amber-500/20 rounded-3xl blur-3xl"></div>
          <div class="relative rounded-2xl overflow-hidden shadow-2xl ring-1 ring-gray-200 dark:ring-stone-700">
            <Image
              src={imgTripPlan}
              alt="Account Map App - Trip Plan"
              class="w-full"
              widths={[400, 800]}
              sizes="(max-width: 768px) 100vw, 50vw"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- 5. CTA MIDDLE                                                -->
  <!-- ============================================================ -->
  <section class="py-24 md:py-32 2xl:py-24 relative overflow-hidden">
    <!-- Animated gradient background -->
    <div class="absolute inset-0 bg-gradient-to-r from-green-600 to-emerald-600"></div>
    <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2260%22 height=%2260%22 viewBox=%220 0 60 60%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cg fill=%22none%22 fill-rule=%22evenodd%22%3E%3Cg fill=%22%23ffffff%22 fill-opacity=%220.05%22%3E%3Cpath d=%22M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')]"></div>

    <!-- Floating orbs -->
    <div class="absolute top-10 left-10 w-64 h-64 bg-white/10 rounded-full blur-3xl animate-pulse-slow"></div>
    <div class="absolute bottom-10 right-10 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse-slow delay-1000"></div>

    <div class="max-w-4xl mx-auto px-4 sm:px-6 relative text-center">
      <h2 class="text-4xl md:text-5xl lg:text-6xl 2xl:text-5xl font-bold text-white mb-6 tracking-tight scroll-animate">
        See the difference visual account mapping makes
      </h2>
      <p class="text-xl md:text-2xl text-green-100 mb-10 scroll-animate">
        Start mapping your key accounts today. No credit card required.
      </p>

      <div class="flex flex-col sm:flex-row gap-4 justify-center scroll-animate">
        <a
          href="https://my.accountmap.app"
          target="_blank"
          data-track="get_started_button"
          class="glow-effect glow-effect--white group inline-flex items-center justify-center gap-3 lg:gap-3.5 px-6 sm:px-7 lg:px-8 py-2.5 lg:py-3 text-sm sm:text-base lg:text-base font-semibold text-green-700 bg-white rounded-lg lg:rounded-xl shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300"
        >
          <Icon name="tabler:rocket" class="w-5 h-5 group-hover:animate-bounce" />
          Try It Free
          <svg class="glow-container">
            <rect pathLength="100" stroke-linecap="round" class="glow-blur"></rect>
            <rect pathLength="100" stroke-linecap="round" class="glow-line"></rect>
          </svg>
        </a>

        <a
          href="#demo"
          data-track="demo_button"
          class="inline-flex items-center justify-center gap-3 px-6 sm:px-7 lg:px-8 py-2.5 lg:py-3 text-sm sm:text-base lg:text-base font-semibold text-white border-2 border-white/30 rounded-lg lg:rounded-xl hover:bg-white/10 hover:border-white/50 backdrop-blur-sm transition-all duration-300"
        >
          <Icon name="tabler:player-play" class="w-5 h-5" />
          See Demo
        </a>
      </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- 6. USE CASES                                                 -->
  <!-- ============================================================ -->
  <section id="use-cases" class="py-24 md:py-32 2xl:py-24 relative">
    <div class="absolute inset-0 bg-gradient-to-b from-white via-green-50/30 to-white dark:from-stone-900 dark:via-stone-800 dark:to-stone-900"></div>

    <div class="max-w-7xl 2xl:max-w-6xl mx-auto px-4 sm:px-6 relative">
      <div class="text-center mb-16 scroll-animate">
        <span class="inline-block px-4 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-full text-sm font-semibold mb-4">
          Use Cases
        </span>
        <h2 class="text-4xl md:text-5xl 2xl:text-4xl font-bold tracking-tight mb-4">
          Built for Every <span class="bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent">Go-To-Market Role</span>
        </h2>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {useCases.map((useCase, index) => (
          <div
            class="scroll-animate group relative p-6 bg-white/80 dark:bg-stone-800/80 backdrop-blur-sm rounded-2xl ring-1 ring-gray-200/50 dark:ring-stone-700/50 hover:ring-purple-300 dark:hover:ring-purple-700 hover:shadow-xl hover:shadow-purple-500/10 transition-all duration-300"
            style={`animation-delay: ${index * 100}ms`}
          >
            <div class="flex items-start gap-4">
              <div class="flex-shrink-0 w-12 h-12 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl flex items-center justify-center group-hover:scale-110 group-hover:rotate-6 transition-transform duration-300">
                <Icon name={useCase.icon} class="w-6 h-6 text-purple-600 dark:text-purple-400" />
              </div>
              <div>
                <h3 class="text-lg font-bold text-gray-900 dark:text-white mb-1">{useCase.title}</h3>
                <p class="text-gray-600 dark:text-stone-300 text-sm">{useCase.description}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- 6.5 CTA MIDDLE #2                                            -->
  <!-- ============================================================ -->
  <section class="py-24 md:py-32 2xl:py-24 relative overflow-hidden">
    <!-- Animated gradient background -->
    <div class="absolute inset-0 bg-gradient-to-r from-purple-600 to-pink-600"></div>
    <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2260%22 height=%2260%22 viewBox=%220 0 60 60%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cg fill=%22none%22 fill-rule=%22evenodd%22%3E%3Cg fill=%22%23ffffff%22 fill-opacity=%220.05%22%3E%3Cpath d=%22M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')]"></div>

    <!-- Floating orbs -->
    <div class="absolute top-10 left-10 w-64 h-64 bg-white/10 rounded-full blur-3xl animate-pulse-slow"></div>
    <div class="absolute bottom-10 right-10 w-96 h-96 bg-white/10 rounded-full blur-3xl animate-pulse-slow delay-1000"></div>

    <div class="max-w-4xl mx-auto px-4 sm:px-6 relative text-center">
      <h2 class="text-4xl md:text-5xl lg:text-6xl 2xl:text-5xl font-bold text-white mb-6 tracking-tight scroll-animate">
        See Account Map App in action
      </h2>
      <p class="text-xl md:text-2xl text-purple-100 mb-10 scroll-animate">
        Watch a quick demo. No signup required.
      </p>

      <div class="flex flex-col sm:flex-row gap-4 justify-center scroll-animate">
        <a
          href="#demo"
          class="glow-effect glow-effect--white group inline-flex items-center justify-center gap-3 lg:gap-3.5 px-6 sm:px-7 lg:px-8 py-2.5 lg:py-3 text-sm sm:text-base lg:text-base font-semibold text-purple-700 bg-white rounded-lg lg:rounded-xl shadow-xl hover:shadow-2xl hover:scale-105 transition-all duration-300"
        >
          <Icon name="tabler:player-play" class="w-5 h-5" />
          Watch Demo
          <svg class="glow-container">
            <rect pathLength="100" stroke-linecap="round" class="glow-blur"></rect>
            <rect pathLength="100" stroke-linecap="round" class="glow-line"></rect>
          </svg>
        </a>

        <a
          href="https://my.accountmap.app"
          target="_blank"
          data-track="get_started_button"
          class="inline-flex items-center justify-center gap-3 px-6 sm:px-7 lg:px-8 py-2.5 lg:py-3 text-sm sm:text-base lg:text-base font-semibold text-white border-2 border-white/30 rounded-lg lg:rounded-xl hover:bg-white/10 hover:border-white/50 backdrop-blur-sm transition-all duration-300"
        >
          <Icon name="tabler:rocket" class="w-5 h-5" />
          Try It Free
        </a>
      </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- 7. FEATURES                                                  -->
  <!-- ============================================================ -->
  <section id="features" class="relative py-24 md:py-32 2xl:py-24 bg-gradient-to-b from-gray-50 to-white dark:from-transparent dark:to-transparent">
    <!-- Semi-transparent overlay for dark mode -->
    <div class="absolute inset-0 bg-transparent dark:bg-[#1C1917]/40 pointer-events-none"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-16 scroll-animate">
        <span class="inline-block px-4 py-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded-full text-sm font-semibold mb-4">
          Features
        </span>
        <h2 class="text-4xl md:text-5xl 2xl:text-4xl font-bold tracking-tight mb-4">
          <span class="bg-gradient-to-r from-green-600 to-emerald-500 bg-clip-text text-transparent">Features</span>
        </h2>
        <p class="text-xl text-gray-600 dark:text-stone-300 max-w-2xl mx-auto">
          Everything you need to understand and navigate complex B2B accounts.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {features.map((feature, index) => (
          <div
            class="scroll-animate group p-8 bg-white dark:bg-stone-800/90 rounded-2xl shadow-xl dark:shadow-[0_0_20px_rgba(255,255,255,0.08)] ring-1 ring-gray-200/50 dark:ring-white/10 hover:shadow-2xl dark:hover:shadow-[0_0_25px_rgba(255,255,255,0.12)] hover:scale-[1.02] transition-all duration-300"
            style={`animation-delay: ${index * 100}ms`}
          >
            <div class="w-14 h-14 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 group-hover:rotate-3 transition-transform duration-300">
              <Icon name={feature.icon} class="w-7 h-7 text-green-600 dark:text-green-400" />
            </div>
            <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-3">{feature.title}</h3>
            <p class="text-gray-600 dark:text-stone-300 leading-relaxed">{feature.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- 8. STATS                                                     -->
  <!-- ============================================================ -->
  <section class="py-24 md:py-32 2xl:py-24 relative overflow-hidden dark:overflow-visible">
    <div class="absolute inset-0 bg-gradient-to-r from-stone-900 via-stone-800 to-stone-900 dark:from-stone-900 dark:via-stone-900 dark:to-stone-900"></div>
    <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%2260%22 height=%2260%22 viewBox=%220 0 60 60%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cg fill=%22none%22 fill-rule=%22evenodd%22%3E%3Cg fill=%22%23ffffff%22 fill-opacity=%220.03%22%3E%3Cpath d=%22M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] dark:bg-none"></div>

    <!-- Glowing orbs -->
    <div class="absolute top-0 left-1/4 w-[500px] h-[500px] bg-green-500/20 dark:bg-green-500/10 rounded-full blur-3xl"></div>
    <div class="absolute top-0 right-1/4 w-[400px] h-[400px] bg-purple-500/20 dark:bg-purple-500/10 rounded-full blur-3xl"></div>

    <div class="max-w-7xl 2xl:max-w-6xl mx-auto px-4 sm:px-6 relative">
      <div class="text-center mb-16 scroll-animate">
        <h2 class="text-4xl md:text-5xl font-bold text-white tracking-tight mb-4">
          Account Map App <span class="bg-gradient-to-r from-green-500 to-emerald-400 bg-clip-text text-transparent">by the numbers</span>
        </h2>
        <p class="text-xl text-gray-400">
          Hundreds of sellers already planning more efficiently.
        </p>
      </div>

      <div class="grid grid-cols-2 lg:grid-cols-4 gap-8" id="stats-grid">
        {stats.map((stat, index) => (
          <div class="text-center p-8">
            <div
              class="stat-number text-4xl md:text-5xl 2xl:text-4xl font-bold bg-gradient-to-r from-green-500 to-emerald-400 bg-clip-text text-transparent mb-2"
              data-value={stat.value}
              data-index={index}
            >
              0
            </div>
            <div class="text-gray-400 font-medium">{stat.label}</div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- 9. VIDEO                                                     -->
  <!-- ============================================================ -->
  <section id="demo" class="py-24 md:py-32 lg:py-20 xl:py-32 2xl:py-24 relative">
    <div class="absolute inset-0 bg-gradient-to-b from-white via-gray-50 to-white dark:from-stone-900 dark:via-stone-800 dark:to-stone-900"></div>

    <div class="max-w-5xl lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl mx-auto px-4 sm:px-6 relative">
      <div class="text-center mb-12 lg:mb-8 xl:mb-12 scroll-animate">
        <h2 class="text-4xl md:text-5xl lg:text-4xl xl:text-5xl 2xl:text-4xl font-bold tracking-tight mb-4">
          See the app in <span class="bg-gradient-to-r from-green-600 to-emerald-500 bg-clip-text text-transparent">~60 seconds</span>
        </h2>
        <p class="text-xl lg:text-lg xl:text-xl text-gray-600 dark:text-stone-300">
          A quick walkthrough of mapping data, planning trips, and executing strategy.
        </p>
      </div>

      <div class="scroll-animate relative">
        <div class="absolute inset-0 bg-gradient-to-r from-green-500/20 to-purple-500/20 rounded-3xl blur-3xl"></div>

        <svg class="demo-glow-svg" aria-hidden="true">
          <defs>
            <filter id="glow-filter" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur in="SourceGraphic" stdDeviation="3" />
              <feMerge>
                <feMergeNode />
                <feMergeNode in="SourceGraphic" />
              </feMerge>
            </filter>
          </defs>
          <rect pathLength="100" rx="16" class="demo-glow-stroke demo-glow-top" filter="url(#glow-filter)" />
          <rect pathLength="100" rx="16" class="demo-glow-stroke demo-glow-bottom" filter="url(#glow-filter)" />
        </svg>

        <div class="relative rounded-2xl shadow-2xl ring-1 ring-gray-200 dark:ring-stone-700 overflow-hidden hover:ring-green-300 dark:hover:ring-green-700 transition-all duration-300 group/video">
          <video
            id="demo-video"
            controls
            preload="metadata"
            playsinline
            poster="https://my.accountmap.app/videos/thumbnail.png"
            src="https://my.accountmap.app/videos/demo.mp4"
            class="w-full h-auto block"
          >
            Your browser does not support the video tag.
          </video>
          <!-- Play button overlay -->
          <div id="video-play-overlay" class="absolute inset-0 flex items-center justify-center cursor-pointer bg-black/20 transition-opacity duration-300">
            <div class="w-20 h-20 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center shadow-xl shadow-green-500/30 group-hover/video:scale-110 transition-transform duration-300">
              <Icon name="tabler:player-play-filled" class="w-8 h-8 text-white ml-1" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- 10. FINAL CTA                                                -->
  <!-- ============================================================ -->
  <section class="py-24 md:py-32 2xl:py-24 relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-gray-900 via-green-900 to-emerald-900"></div>
    <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=%22100%22 height=%22100%22 viewBox=%220 0 100 100%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cpath d=%22M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z%22 fill=%22%23ffffff%22 fill-opacity=%220.03%22 fill-rule=%22evenodd%22/%3E%3C/svg%3E')]"></div>

    <!-- Glowing elements -->
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-px bg-gradient-to-r from-transparent via-green-500/50 to-transparent"></div>
    <div class="absolute top-1/4 left-10 w-72 h-72 bg-green-500/20 rounded-full blur-3xl animate-pulse-slow"></div>
    <div class="absolute bottom-1/4 right-10 w-96 h-96 bg-emerald-500/20 rounded-full blur-3xl animate-pulse-slow delay-1000"></div>

    <div class="max-w-4xl mx-auto px-4 sm:px-6 relative text-center">
      <h2 class="text-4xl md:text-5xl lg:text-6xl 2xl:text-5xl font-bold text-white mb-6 tracking-tight scroll-animate">
        Start mapping your <span class="bg-gradient-to-r from-green-500 to-emerald-400 bg-clip-text text-transparent">accounts today</span>
      </h2>
      <p class="text-xl md:text-2xl text-gray-300 mb-10 scroll-animate">
        Turn location data into actionable plans.
        <span class="block mt-2 text-green-400 font-semibold">Start with our free plan, no credit card required.</span>
      </p>

      <div class="scroll-animate">
        <a
          href="https://my.accountmap.app"
          target="_blank"
          data-track="get_started_button"
          class="glow-effect group relative inline-flex items-center justify-center gap-3 lg:gap-3.5 px-6 sm:px-8 lg:px-10 py-2.5 lg:py-3 text-sm sm:text-base lg:text-lg font-semibold text-white bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg lg:rounded-xl hover:scale-105 transition-transform duration-300"
        >
          <Icon name="tabler:rocket" class="w-6 h-6 group-hover:animate-bounce" />
          Get Started Free
          <svg class="glow-container">
            <rect pathLength="100" stroke-linecap="round" class="glow-blur"></rect>
            <rect pathLength="100" stroke-linecap="round" class="glow-line"></rect>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- 11. FAQs                                                     -->
  <!-- ============================================================ -->
  <section id="faq" class="relative py-24 md:py-32 2xl:py-24 bg-gradient-to-b from-gray-50 to-white dark:from-transparent dark:to-transparent">
    <!-- Semi-transparent overlay for dark mode -->
    <div class="absolute inset-0 bg-transparent dark:bg-[#1C1917]/40 pointer-events-none"></div>
    <div class="relative max-w-4xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-16 scroll-animate">
        <span class="inline-block px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm font-semibold mb-4">
          FAQs
        </span>
        <h2 class="text-4xl md:text-5xl 2xl:text-4xl font-bold tracking-tight mb-4">
          Frequently Asked <span class="bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent">Questions</span>
        </h2>
        <p class="text-xl text-gray-600 dark:text-stone-300">
          Everything you need to know about Account Map App.
        </p>
      </div>

      <div class="space-y-4">
        {faqs.map((faq, index) => (
          <details
            class="scroll-animate group p-6 bg-white dark:bg-stone-800/90 rounded-2xl shadow-lg dark:shadow-[0_0_18px_rgba(255,255,255,0.08)] ring-1 ring-gray-200/50 dark:ring-white/10 hover:shadow-xl dark:hover:shadow-[0_0_22px_rgba(255,255,255,0.12)] transition-all duration-300"
            style={`animation-delay: ${index * 50}ms`}
          >
            <summary class="flex items-center justify-between cursor-pointer list-none">
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white pr-4">{faq.question}</h3>
              <div class="flex-shrink-0 w-8 h-8 bg-gray-100 dark:bg-stone-700 rounded-lg flex items-center justify-center group-open:rotate-45 transition-transform duration-300">
                <Icon name="tabler:plus" class="w-5 h-5 text-gray-600 dark:text-stone-300" />
              </div>
            </summary>
            <p class="mt-4 text-gray-600 dark:text-stone-300 leading-relaxed">{faq.answer}</p>
          </details>
        ))}
      </div>

      <!-- Contact CTA -->
      <div class="text-center mt-12 scroll-animate">
        <p class="text-gray-600 dark:text-stone-400">
          Have a question not answered here?
          <a href="#contact" class="contact-trigger text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 font-medium hover:underline transition-colors">
            Contact us
          </a>
        </p>
      </div>
    </div>
  </section>

  <!-- ============================================================ -->
  <!-- CONTACT POPUP MODAL                                          -->
  <!-- ============================================================ -->
  <div id="contact-modal" class="contact-modal fixed inset-0 z-50 hidden">
    <!-- Backdrop -->
    <div class="contact-backdrop absolute inset-0 bg-black/50 backdrop-blur-sm"></div>

    <!-- Modal -->
    <div class="relative flex items-center justify-center min-h-screen p-4">
      <div class="contact-content relative bg-white dark:bg-stone-800 rounded-2xl shadow-2xl w-full max-w-md p-8 transform scale-95 opacity-0 transition-all duration-300">
        <!-- Close button -->
        <button class="contact-close absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-lg hover:bg-gray-100 dark:hover:bg-stone-700 transition-colors">
          <Icon name="tabler:x" class="w-5 h-5 text-gray-500 dark:text-stone-400" />
        </button>

        <!-- Header -->
        <div class="text-center mb-6">
          <h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-2">Contact Us</h3>
          <p class="text-gray-600 dark:text-stone-400">We'd love to hear from you. Send us a message!</p>
        </div>

        <!-- Form -->
        <form id="contact-form" class="space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label for="first-name" class="block text-sm font-medium text-gray-700 dark:text-stone-300 mb-1">First Name</label>
              <input
                type="text"
                id="first-name"
                name="firstName"
                required
                class="w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-stone-600 bg-white dark:bg-stone-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-stone-500 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"
                placeholder="John"
              />
            </div>
            <div>
              <label for="last-name" class="block text-sm font-medium text-gray-700 dark:text-stone-300 mb-1">Last Name</label>
              <input
                type="text"
                id="last-name"
                name="lastName"
                required
                class="w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-stone-600 bg-white dark:bg-stone-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-stone-500 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"
                placeholder="Doe"
              />
            </div>
          </div>

          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 dark:text-stone-300 mb-1">Business Email</label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-stone-600 bg-white dark:bg-stone-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-stone-500 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"
              placeholder="john@company.com"
            />
          </div>

          <div>
            <label for="message" class="block text-sm font-medium text-gray-700 dark:text-stone-300 mb-1">Message</label>
            <textarea
              id="message"
              name="message"
              rows="4"
              required
              class="w-full px-4 py-2.5 rounded-lg border border-gray-300 dark:border-stone-600 bg-white dark:bg-stone-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-stone-500 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors resize-none"
              placeholder="How can we help you?"
            ></textarea>
          </div>

          <button
            type="submit"
            class="w-full py-3 px-6 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold rounded-lg hover:scale-[1.02] hover:shadow-lg transition-all duration-300"
          >
            Send Message
          </button>
        </form>

        <!-- Success message (hidden by default) -->
        <div id="contact-success" class="hidden text-center py-8">
          <div class="w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
            <Icon name="tabler:check" class="w-8 h-8 text-green-600 dark:text-green-400" />
          </div>
          <h4 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Message Sent!</h4>
          <p class="text-gray-600 dark:text-stone-400">We'll get back to you as soon as possible.</p>
        </div>
      </div>
    </div>
  </div>
</Layout>

<style>
  /* Fix horizontal overflow on mobile - using clip instead of hidden to preserve sticky */
  :global(body) {
    overflow-x: clip;
    max-width: 100vw;
  }

  /* Hide heavy decorative blur backgrounds on mobile for performance */
  @media (max-width: 767px) {
    .blur-3xl {
      display: none !important;
    }
  }

  /* Animated glowing border - SVG stroke technique */
  .glow-effect {
    --glow-line-color: rgba(255, 255, 255, 1);
    --glow-line-thickness: 1.5px;
    --glow-line-length: 18px;
    --glow-blur-color: rgba(255, 255, 255, 1);
    --glow-blur-size: 6px;
    --glow-offset: 0px;
    --animation-speed: 1100ms;
    --container-offset: 100px;
    position: relative;
  }

  .glow-container {
    pointer-events: none;
    position: absolute;
    inset: calc(var(--container-offset) / -2);
    width: calc(100% + var(--container-offset));
    height: calc(100% + var(--container-offset));
    opacity: 0;
  }

  .glow-blur,
  .glow-line {
    width: calc(100% - var(--container-offset) + var(--glow-offset));
    height: calc(100% - var(--container-offset) + var(--glow-offset));
    x: calc((var(--container-offset) / 2) + calc(var(--glow-offset) / -2));
    y: calc((var(--container-offset) / 2) + calc(var(--glow-offset) / -2));
    fill: transparent;
    stroke-dasharray: var(--glow-line-length) calc(50px - var(--glow-line-length));
  }

  .glow-effect:is(:hover, :focus) :is(.glow-line, .glow-blur) {
    stroke-dashoffset: -80px;
    transition: stroke-dashoffset var(--animation-speed) cubic-bezier(0.4, 0, 0.9, 0.6);
  }

  .glow-line {
    stroke: var(--glow-line-color);
    stroke-width: var(--glow-line-thickness);
  }

  .glow-blur {
    filter: blur(var(--glow-blur-size));
    stroke: var(--glow-blur-color);
    stroke-width: var(--glow-blur-size);
  }

  .glow-effect:is(:hover, :focus) .glow-container {
    animation: glow-visibility ease-in-out var(--animation-speed);
  }

  @keyframes glow-visibility {
    0%,
    100% {
      opacity: 0;
    }
    25%,
    75% {
      opacity: 1;
    }
  }

  /* White button variant - uses white/bright glow on colored background */
  .glow-effect--white {
    --glow-line-color: rgba(255, 255, 255, 1);
    --glow-blur-color: rgba(255, 255, 255, 0.9);
  }

  /* Demo scroll-linked glow effect */
  .demo-glow-svg {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    overflow: visible;
  }

  .demo-glow-stroke {
    width: 100%;
    height: 100%;
    fill: none;
    stroke: rgba(255, 255, 255, 0.85);
    stroke-width: 2px;
    stroke-linecap: round;
    stroke-dasharray: 8 42;
  }

  /* Only enable scroll-linked animation on desktop */
  @media (min-width: 768px) {
    .demo-glow-stroke {
      animation: demo-glow-orbit linear;
      animation-timeline: view();
      animation-range: entry 0% exit 100%;
    }
  }

  @media (max-width: 767px) {
    .demo-glow-svg {
      display: none;
    }
  }

  /* Top line: at top-right when centered */
  .demo-glow-top {
    animation-name: demo-glow-top;
  }

  /* Bottom line: at bottom-left when centered */
  .demo-glow-bottom {
    animation-name: demo-glow-bottom;
  }

  @keyframes demo-glow-top {
    from { stroke-dashoffset: 27; }
    to { stroke-dashoffset: -73; }
  }

  @keyframes demo-glow-bottom {
    from { stroke-dashoffset: -23; }
    to { stroke-dashoffset: -123; }
  }

  /* Scroll animations - disabled on mobile for performance */
  .scroll-animate {
    opacity: 1;
    transform: none;
  }

  @media (min-width: 768px) {
    .scroll-animate {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.35s ease-out, transform 0.35s ease-out;
    }

    .scroll-animate.visible {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Staggered delays */
  .scroll-animate.delay-100 { transition-delay: 100ms; }
  .scroll-animate.delay-200 { transition-delay: 200ms; }
  .scroll-animate.delay-300 { transition-delay: 300ms; }
  .scroll-animate.delay-500 { transition-delay: 500ms; }

  /* Contact Modal */
  .contact-modal.open {
    display: block;
  }

  .contact-modal.open .contact-content {
    transform: scale(1);
    opacity: 1;
  }

  .contact-modal.open .contact-backdrop {
    animation: fadeIn 0.2s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* Custom animations */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }

  @keyframes pulse-slow {
    0%, 100% { opacity: 0.4; transform: scale(1); }
    50% { opacity: 0.6; transform: scale(1.05); }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Disable heavy animations on mobile */
  @media (max-width: 767px) {
    .animate-float,
    .animate-pulse-slow,
    .animate-fade-in-up {
      animation: none;
    }
  }

  @media (min-width: 768px) {
    .animate-float {
      animation: float 6s ease-in-out infinite;
    }

    .animate-pulse-slow {
      animation: pulse-slow 4s ease-in-out infinite;
    }

    .animate-fade-in-up {
      animation: fade-in-up 0.8s ease-out forwards;
    }
  }

  .delay-300 {
    animation-delay: 300ms;
  }

  .delay-500 {
    animation-delay: 500ms;
  }

  .delay-700 {
    animation-delay: 700ms;
  }

  .delay-1000 {
    animation-delay: 1000ms;
  }

  /* FAQ accordion styling */
  details summary::-webkit-details-marker {
    display: none;
  }

  details[open] summary {
    margin-bottom: 0;
  }
</style>

<script>
  function initScrollAnimations() {
    // Check if mobile for performance optimizations
    const isMobile = window.innerWidth < 768;

    // Intersection Observer for scroll animations (only on desktop)
    if (!isMobile) {
      const observerOptions = {
        root: null,
        rootMargin: '-50px 0px -50px 0px',
        threshold: 0.2
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, observerOptions);

      // Observe all scroll-animate elements
      document.querySelectorAll('.scroll-animate').forEach(el => {
        // Check if element is already in view and add visible class immediately
        const rect = el.getBoundingClientRect();
        const isInView = rect.top < window.innerHeight - 50 && rect.bottom > 50;
        if (isInView) {
          el.classList.add('visible');
        }
        observer.observe(el);
      });
    } else {
      // On mobile, ensure all elements are visible (no animation)
      document.querySelectorAll('.scroll-animate').forEach(el => {
        el.classList.add('visible');
      });
    }

    // Init stats count-up (needs isMobile in scope)
    initStatsCountUp(isMobile);
  }

  // Count-up animation for stats
  function animateCountUp(element: Element, targetValue: string, duration: number = 2000) {
    // Parse the target value to extract number, prefix, and suffix
    const match = targetValue.match(/^([^\d]*)(\d+(?:\.\d+)?)(.*)$/);
    if (!match) {
      element.textContent = targetValue;
      return;
    }

    const prefix = match[1] || '';
    const numericValue = parseFloat(match[2]);
    const suffix = match[3] || '';
    const isDecimal = match[2].includes('.');
    const decimalPlaces = isDecimal ? match[2].split('.')[1].length : 0;

    let startTime: number | null = null;
    const startValue = 0;

    // Smooth ease-out-quart for buttery animation
    function easeOutQuart(t: number): number {
      return 1 - Math.pow(1 - t, 4);
    }

    function update(currentTime: number) {
      if (!startTime) startTime = currentTime;
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);

      const easedProgress = easeOutQuart(progress);
      const currentValue = startValue + (numericValue - startValue) * easedProgress;

      if (isDecimal) {
        element.textContent = prefix + currentValue.toFixed(decimalPlaces) + suffix;
      } else {
        element.textContent = prefix + Math.round(currentValue).toLocaleString() + suffix;
      }

      if (progress < 1) {
        requestAnimationFrame(update);
      } else {
        element.textContent = targetValue;
      }
    }

    requestAnimationFrame(update);
  }

  function initStatsCountUp(isMobile: boolean) {
    let statsAnimated = false;
    const statsObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting && !statsAnimated) {
          statsAnimated = true;
          const statElements = document.querySelectorAll('.stat-number');
          statElements.forEach((el, index) => {
            const targetValue = el.getAttribute('data-value') || '0';
            if (isMobile) {
              // On mobile, just show the value immediately without animation
              el.textContent = targetValue;
            } else {
              // On desktop, stagger the animations
              setTimeout(() => {
                animateCountUp(el, targetValue, 2000);
              }, index * 100);
            }
          });
        }
      });
    }, { threshold: 0.3 });

    const statsGrid = document.getElementById('stats-grid');
    if (statsGrid) {
      statsObserver.observe(statsGrid);
    }
  }

  // Use astro:page-load which fires on initial load AND after View Transitions
  document.addEventListener('astro:page-load', initScrollAnimations);

  // Set border-radius on glow effect SVG rects
  (function setGlowEffectRx() {
    const glowEffects = document.querySelectorAll('.glow-effect');
    glowEffects.forEach((glowEffect) => {
      const glowLines = glowEffect.querySelectorAll('rect');
      const rx = getComputedStyle(glowEffect).borderRadius;
      glowLines.forEach((line) => {
        line.setAttribute('rx', rx);
      });
    });
  })();

  // Button Click Tracking
  function initClickTracking() {
    document.querySelectorAll('[data-track]').forEach(el => {
      // Avoid adding duplicate listeners
      if (el.dataset.trackInitialized) return;
      el.dataset.trackInitialized = 'true';

      el.addEventListener('click', () => {
        const event = el.getAttribute('data-track');
        // Fire and forget - don't block navigation
        fetch('/api/contact', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ type: 'track', event }),
        }).catch(() => {}); // Silently ignore errors
      });
    });
  }
  // Run on initial load and after View Transitions navigation
  initClickTracking();
  document.addEventListener('astro:page-load', initClickTracking);

  // Contact Modal
  (function initContactModal() {
    const modal = document.getElementById('contact-modal');
    const form = document.getElementById('contact-form');
    const successMsg = document.getElementById('contact-success');
    const closeBtn = modal?.querySelector('.contact-close');
    const backdrop = modal?.querySelector('.contact-backdrop');

    // Open modal function
    function openModal() {
      if (modal) {
        modal.classList.add('open');
        document.body.style.overflow = 'hidden';
      }
    }

    // Close modal function
    function closeModal() {
      if (modal) {
        modal.classList.remove('open');
        document.body.style.overflow = '';
        // Reset form after closing
        setTimeout(() => {
          if (form) form.reset();
          if (form) form.classList.remove('hidden');
          if (successMsg) successMsg.classList.add('hidden');
        }, 300);
      }
    }

    // Trigger buttons/links (including footer links)
    document.querySelectorAll('a[href="#contact"], .contact-trigger').forEach(trigger => {
      trigger.addEventListener('click', (e) => {
        e.preventDefault();
        openModal();
      });
    });

    // Close button
    closeBtn?.addEventListener('click', closeModal);

    // Click outside to close
    backdrop?.addEventListener('click', closeModal);

    // Escape key to close
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal?.classList.contains('open')) {
        closeModal();
      }
    });

    // Form submission
    form?.addEventListener('submit', async (e) => {
      e.preventDefault();

      const submitBtn = form.querySelector('button[type="submit"]') as HTMLButtonElement;
      const originalText = submitBtn?.textContent || 'Send Message';

      // Show loading state
      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
      }

      const formData = new FormData(form);
      const data = {
        firstName: formData.get('firstName'),
        lastName: formData.get('lastName'),
        email: formData.get('email'),
        message: formData.get('message'),
      };

      try {
        const response = await fetch('/api/contact', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data),
        });

        if (!response.ok) {
          throw new Error('Failed to send message');
        }

        // Show success message
        form.classList.add('hidden');
        successMsg?.classList.remove('hidden');

        // Auto-close after 3 seconds
        setTimeout(closeModal, 3000);

      } catch (error) {
        console.error('Contact form error:', error);
        alert('Sorry, there was an error sending your message. Please try again.');
      } finally {
        // Reset button state
        if (submitBtn) {
          submitBtn.disabled = false;
          submitBtn.textContent = originalText;
        }
      }
    });
  })();

  // Video play button overlay
  (function initVideoPlayer() {
    const video = document.getElementById('demo-video') as HTMLVideoElement;
    const overlay = document.getElementById('video-play-overlay');

    if (!video || !overlay) return;

    // Click overlay to play
    overlay.addEventListener('click', () => {
      video.play();
    });

    // Hide overlay when playing
    video.addEventListener('play', () => {
      overlay.style.opacity = '0';
      overlay.style.pointerEvents = 'none';
    });

    // Show overlay when paused or ended
    video.addEventListener('pause', () => {
      overlay.style.opacity = '1';
      overlay.style.pointerEvents = 'auto';
    });

    video.addEventListener('ended', () => {
      overlay.style.opacity = '1';
      overlay.style.pointerEvents = 'auto';
    });
  })();

</script>
